@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<FilteredBlockListItem>;
@addTagHelper *, GovUk.Frontend.AspNetCore
@using GovUk.Frontend.Umbraco.Models
@using Umbraco.Extensions
@{
    var title = Model.Item.Content.Value<string>("title");
    if (string.IsNullOrWhiteSpace(title)) { title = "There is a problem"; }
    var visibleClass = ViewContext.ModelState.ErrorCount > 0 ? "govuk-!-display-block" : "govuk-!-display-none";
}
<govuk-error-summary class="@visibleClass">
    <govuk-error-summary-title>@title</govuk-error-summary-title>
    @foreach (var key in ViewContext.ModelState.Keys)
    {
        foreach (var error in ViewContext.ModelState[key].Errors)
        {
            <govuk-error-summary-item for="@key">@error.ErrorMessage</govuk-error-summary-item>
        }
    }
</govuk-error-summary>