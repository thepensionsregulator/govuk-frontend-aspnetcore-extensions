@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<FilteredBlockListItem>;
@addTagHelper *, GovUk.Frontend.AspNetCore
@using GovUk.Frontend.AspNetCore
@using GovUk.Frontend.Umbraco.Typography
@using GovUk.Frontend.Umbraco.Models
@using Umbraco.Extensions
@{
    if (!Enum.TryParse(typeof(NotificationBannerType), Model.Settings.Value<string>("type"), out var bannerType))
    {
        bannerType = NotificationBannerType.Default;
    }
    var heading = GovUkTypography.Apply(Model.Content.Value<string>("heading"), new TypographyOptions{ RemoveWrappingParagraph = true });
    var text = GovUkTypography.Apply(Model.Content.Value<string>("text"), new TypographyOptions { RemoveWrappingParagraph = true });
}
<govuk-notification-banner type="@((NotificationBannerType)bannerType!)">
    @if (!string.IsNullOrEmpty(Model.Settings.Value<string>("title")))
    {
        <govuk-notification-banner-title>@(Model.Settings.Value<string>("title"))</govuk-notification-banner-title>
    }
    @if (string.IsNullOrEmpty(text))
    {
        <p class="govuk-notification-banner__heading">@Html.Raw(heading)</p>
    }
    else
    {
        <h3 class="govuk-notification-banner__heading">@Html.Raw(heading)</h3>
        @Html.Raw(text)
    }
</govuk-notification-banner>